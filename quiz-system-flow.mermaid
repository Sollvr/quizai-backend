sequenceDiagram
    participant Host as Authenticated Host
    participant WS as WebSocket Server
    participant State as Game State
    participant Player as Guest Player

    Host->>WS: Create Lobby
    WS->>State: Generate 6-digit code
    State->>WS: Return lobby data
    WS->>Host: Send lobby code & initial state

    Player->>WS: Join with code
    WS->>State: Validate code
    State->>WS: Code valid
    WS->>Player: Prompt username
    Player->>WS: Submit username
    WS->>State: Validate username uniqueness
    State->>WS: Username accepted
    WS->>Host: New player joined
    WS->>Player: Enter waiting room

    Host->>WS: Start game
    WS->>State: Initialize quiz
    State->>WS: Quiz ready
    WS-->>Host: Start quiz
    WS-->>Player: Start quiz
